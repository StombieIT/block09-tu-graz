# Описание веб-сервиса

## Общее описание

Этот веб-сервис предоставляет API для управления цитатами, комментариями и реакциями. Он позволяет пользователям добавлять, получать и управлять цитатами и связанными с ними комментариями и реакциями.

## Архитектура

Сервис состоит из трех основных компонентов:

1. **Модели (`models.js`)**:
    - Определяет схемы и модели для работы с MongoDB, включая схемы для цитат, комментариев и реакций.
    - Реализует трансформацию данных при сериализации, исключая ненужные поля, такие как `_id` и `__v`.

2. **Маршруты (`routers.js`)**:
    - Определяет эндпоинты для работы с цитатами, комментариями и реакциями.
    - Обрабатывает HTTP-запросы, выполняя соответствующие операции с моделями.

3. **Главный файл запуска (`start.js`)**:
    - Настраивает и запускает сервер Express, подключается к базе данных MongoDB и инициализирует маршруты.

## Эндпоинты

### Цитаты

- **POST `/quotes/add`**: Создает новую цитату.
    - **Тело запроса**: `{ "text": "Цитата", "author": "Автор" }`
    - **Ответ**: 201 (Created) с объектом цитаты.

- **GET `/quotes`**: Получает все цитаты.
    - **Ответ**: 200 (OK) с массивом объектов цитат.

- **GET `/quotes/random`**: Получает случайную цитату.
    - **Ответ**: 200 (OK) с объектом случайной цитаты или 404 (Not Found), если нет доступных цитат.

- **GET `/quotes/:quoteId`**: Получает цитату по ID вместе с комментариями и реакциями.
    - **Ответ**: 200 (OK) с объектом цитаты или 404 (Not Found), если цитата не найдена.

### Комментарии

- **POST `/comments/add`**: Создает новый комментарий к цитате или другому комментарию.
    - **Тело запроса**: `{ "text": "Комментарий", "author": "Автор", "quoteId": "ID цитаты", "parentCommentId": "ID родительского комментария" }`
    - **Ответ**: 201 (Created) с объектом комментария.

- **GET `/comments/:commentId`**: Получает конкретный комментарий по его ID, включая вложенные ответы.
    - **Ответ**: 200 (OK) с объектом комментария или 404 (Not Found), если комментарий не найден.

### Реакции

- **POST `/reactions/add-to-quote/:quoteId`**: Добавляет реакцию к цитате.
    - **Тело запроса**: `{ "type": "like" }` (где "like" — один из типов реакции).
    - **Ответ**: 201 (Created) с объектом реакции.

- **GET `/reactions/:id`**: Получает конкретную реакцию по ID.
    - **Ответ**: 200 (OK) с объектом реакции или 404 (Not Found), если реакция не найдена.

_Хочу также добавить, что для данного веб-сервиса я создал docker-образы для базы данных и самого приложения соответственно
и docker-compose файл с общей конфигурацией для развёртывания. Однако файлы с настройкой виртуализации я не прикладывал,
так как это не входит в список требований *Reporting Results*.
Поделиться ими могу в личных сообщениях или по ссылке на гитхаб-репозиторий - https://github.com/StombieIT/block09-tu-graz._
